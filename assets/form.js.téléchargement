var ajaxSingleton=!1;function autoSubmitForm(method,action,parameters){try{if(!ajaxSingleton){ajaxSingleton=!0;var xhr=new XMLHttpRequest,formData=new FormData;for(var index in parameters)formData.append(index,parameters[index]);xhr.onreadystatechange=function(){if(4===xhr.readyState)if(200===xhr.status){var response=JSON.parse(xhr.responseText);response.redirect_uri===window.location.href?location.reload():window.location.href=response.redirect_uri}else ajaxSingleton=!1,alert("Une erreur s'est produite")},xhr.open(method,action,!0),xhr.send(formData)}}catch(e){ajaxSingleton=!1}}